_jinja_extensions:
  - copier_templates_extensions.TemplateExtensionLoader
  - _extensions/get_project_data.py:ContextUpdater

_exclude:
  - copier.yml
  - README.md
  - .git

_tasks:
  - "{{ _copier_python }} _extensions/update_backend_pyproject.py"
  - "{{ _copier_python }} _extensions/update_backend_makefile.py"
  - "{{ _copier_python }} _extensions/update_backend_dockerfile.py"
  - "{{ _copier_python }} _extensions/update_frontend_makefile.py"
  - "{{ _copier_python }} _extensions/modify_instance_yaml.py"
  - "{{ _copier_python }} _extensions/remove_devops_folder.py"
  - "{{ _copier_python }} _extensions/update_caddyfile.py"
  - "{{ _copier_python }} _extensions/set_initial_version.py"
  - rm -rf _extensions

_message_before_copy: |
    Thanks for generating a project using our template.

    You'll be asked a series of questions whose answers will be used to
    generate a tailored project for you.

_message_after_copy: |
    ✨ Please check the modified files and run `git commit` to save them. ✨

    You will need to run the following command to add the following files to `git`:

      git add .gitlab-ci.yml .release-it.json backend/zope.ini backend/instance.yaml backend/Makefile backend/Dockerfile frontend/Makefile deploy

    And the following command to remove the devops folder:

      git rm -r --cached devops

    ✨✨✨✨ Well done! ✨✨✨✨




domain:
  type: str
  help: Enter the domain where this site will be published

varnish:
  type: bool
  help: Should we add a docker container with Varnish configuration?
